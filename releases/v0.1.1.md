# FFUI v0.1.1

## English

### Highlights

- Async background refresh: external tool detection now shows “Detecting” and updates automatically without blocking startup.
- Performance Monitor: first entry starts updating faster; OS uptime is now a real value.
- Monitor V2: replaced the old uptime “line” card with a 24-segment daily transcode activity ring; paused time is excluded.
- Batch Compress: the “Add compression tasks” wizard can be closed by clicking the overlay.

### Details

- External tools
  - Prewarms local tool probing after startup idle to reduce first-time placeholders.
  - Remote version checks are background-only with a 24h TTL persisted in `settings.json`.
- Performance Monitor
  - Fixes delayed first updates by subscribing before requesting streams (and wakes backend waiters).
  - Adds `uptimeSeconds` to the metrics payload.
  - Persists transcode activity buckets (today by hour, 7-day retention) in `settings.json`.
- Release pipeline
  - Adds a Windows portable `.exe` asset to the draft release.

## 中文

### 重点更新

- 异步后台刷新：外部工具检测首次不再闪 “未找到”，改为 “检测中” 并自动更新，启动不阻塞。
- 性能监控：首次进入更快开始刷新；系统运行时间为真实 OS uptime。
- 监控 V2：用 24 段“当天转码热力环”替换原先的横线卡片；`paused` 不计入活动。
- Batch Compress：添加压缩任务向导支持点击遮罩关闭。

### 细节说明

- 外部工具
  - 启动 idle 后预热本地探测，减少首次进入设置的占位状态。
  - 远端版本检查仅在后台进行，默认 24h TTL，并持久化到 `settings.json`。
- 性能监控
  - 修复首次进入需要等待较久才开始刷新的问题（先订阅再请求，后端唤醒等待者）。
  - 指标 payload 增加 `uptimeSeconds`。
  - 当天按小时记录转码活动并持久化（保留最近 7 天）。
- 发布流程
  - Windows Draft Release 额外附带 portable `.exe` 产物。
